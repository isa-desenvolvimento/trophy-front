language: node_js
node_js:
  - "v14.15.3"
cache: yarn
before_script:
  - yarn global add vue-cli
  - sudo apt-get install expect
script:
  # test
  - yarn test:unit 
  - yarn build
deploy:
  provider: pages
  local-dir: demo/dist/
  skip-cleanup: true
  github-token: 'e8cfd997ae8c08ffdc52d97e9bab00e85bc1da7e'  
  keep-history: false
  on:
    branch: master
  target-branch: gh-pages
  committer-from-gh: true